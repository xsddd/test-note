2)	提问我Spring的IOC和AOP？
因为自己刚看过源码，我从出发点为应用程序提供一个基础的可运行的环境为目标，然后在refresh方法里面刷新bean工厂，解析bean标签，注册beanDefinationMap，创建单例对象，依赖注入和三级缓存解决循环依赖的步骤大概说了一下。整个过程我也故意停顿，在观察面试官的反应，有回应的地方我就说的细一点，没有回应我就简单说一下。我说完IOC他就没有对AOP进行提问。我觉得开场这里我表现的还不错。


数据库优化


一、优先保障可用，我考虑主从。
二、将大表水平或者垂直拆分（垂直拆分用主键取模，为什么不用其他的办法），拆分之后怎么做查询。
三、我才说索引，创建索引需要注意什么，使用索引需要注意什么。



2)	提问我Hibernate和MyBatis的区别
这一个其实比较常规的问题，对比优缺点，我把我能想到的都说了一下，对这两个框架我都不是很了解，底层源码也还没有看过。


2)	接着提问写SQL的时候要注意什么
我把有用到索引的情况和没有用索引的情况都说了一下。

2)	提问我微服务的一些知识
服务注册和发现，负载均衡，熔断限流降级
分布式事务，我只记得二阶段提交，TCC补偿和进最大努力通知这三种办法，因为我对MQ不是很了解，
做业务系统一般用阿里的seata比较合适，然后把Nacos,Sentinel这几个阿里最新的微服务组件点了一下。
一个服务监控的组件，我一猜就知道好像它要问了链路追踪+Zipkin那一套，

2)	提问我在生产上有没有遇到内存泄露的情况。
jvm内存溢出排查

Redis的RDB，AOF

1、Spring
Spring（生命周期，作用域，ioc容器是什么），问到循环依赖


2、reids : 缓存击穿、布隆过滤器、主从哨兵、集群之间是怎么共享数据的、Redis实现分布式锁 

3、多线程：悲观锁、乐观锁、可重入锁、获得线程的方式、线程池7参数
线程本地变量（我没答上来），还有一个伪共享问题
volatile和synchronized

4、集合框架：HashMap肯定是必问，不把put、扩容、循环链表这些说清楚都不罢休的那种。HashTable，ArrayList，LinkedList这些都问了（我感觉答的还可以）


5、数据库：直接提问1千万条数据的表，怎么去优化。我回答的是先取模分库分表，再考虑索引。又接着问索引B+树这些比较常规。


6、网络：session,cookie,token这些，四次挥手 